<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PROJECT_NAME: Dave/Model/APPS/CPU_CTRL_XMC1/v4_0_8/Templates/cpu_ctrl_xmc1.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PROJECT_NAME
   &#160;<span id="projectnumber">PROJECT_NUMBER</span>
   </div>
   <div id="projectbrief">PROJECT_BRIEF</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9ae8d336e4569e0680d3e2193cd995f2.html">Dave</a></li><li class="navelem"><a class="el" href="dir_490bed8d9998c4a99839e21f8ea581e9.html">Model</a></li><li class="navelem"><a class="el" href="dir_33846ca2b359b82220662b9710bd22e5.html">APPS</a></li><li class="navelem"><a class="el" href="dir_8ff72626126cf91ccd6c4937139bf220.html">CPU_CTRL_XMC1</a></li><li class="navelem"><a class="el" href="dir_51f9ff42f513e65bea1d35c3e3291357.html">v4_0_8</a></li><li class="navelem"><a class="el" href="dir_04c2292022cfe29b4ad471349d97123d.html">Templates</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">cpu_ctrl_xmc1.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_model_2_a_p_p_s_2_c_p_u___c_t_r_l___x_m_c1_2v4__0__8_2_templates_2cpu__ctrl__xmc1_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/***********************************************************************************************************************</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * HEADER FILES</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> **********************************************************************************************************************/</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_model_2_a_p_p_s_2_c_p_u___c_t_r_l___x_m_c1_2v4__0__8_2_templates_2cpu__ctrl__xmc1_8h.html">cpu_ctrl_xmc1.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/***********************************************************************************************************************</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * MACROS</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> **********************************************************************************************************************/</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/***********************************************************************************************************************</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * LOCAL DATA</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> **********************************************************************************************************************/</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/***********************************************************************************************************************</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * LOCAL ROUTINES</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> **********************************************************************************************************************/</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/**********************************************************************************************************************</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">* API IMPLEMENTATION</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">**********************************************************************************************************************/</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * API to retrieve the version of the CPU_CTRL_XMC1 APP</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="group___c_p_u___c_t_r_l___x_m_c1.html#gafcb644f779a2ba2d9e000c0b11d60643">   77</a></span>&#160;<a class="code" href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html">DAVE_APP_VERSION_t</a> <a class="code" href="group___c_p_u___c_t_r_l___x_m_c1.html#gafcb644f779a2ba2d9e000c0b11d60643">CPU_CTRL_XMC1_GetAppVersion</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html">DAVE_APP_VERSION_t</a> version;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  version.<a class="code" href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#ac0919cab9e3656da0427f23f9a53dc35">major</a> = <a class="code" href="cpu__ctrl__xmc1__conf_8h.html#abeee68e4e05ea4ddd40d2c07586be77f">CPU_CTRL_XMC1_MAJOR_VERSION</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  version.<a class="code" href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#a56569cf0698e7815530195bdae9a1084">minor</a> = <a class="code" href="cpu__ctrl__xmc1__conf_8h.html#a21a42cbe994ad9aba29ce533f7f687aa">CPU_CTRL_XMC1_MINOR_VERSION</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  version.<a class="code" href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#a404a9d757eb7a51aa9e79d35394e5663">patch</a> = <a class="code" href="cpu__ctrl__xmc1__conf_8h.html#a4e6943c4bf916aded89fb7806a63a97d">CPU_CTRL_XMC1_PATCH_VERSION</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> (version);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* Dummy Init API to maintain backward compatibility */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group___c_p_u___c_t_r_l___x_m_c1.html#ga52c7c5cab5a6ad01ce8d243b6a52cb03">   89</a></span>&#160;<a class="code" href="group___c_p_u___c_t_r_l___x_m_c1.html#ga63c23c17809aec17fa88fcafa2db4747">CPU_CTRL_XMC1_STATUS_t</a> <a class="code" href="group___c_p_u___c_t_r_l___x_m_c1.html#ga52c7c5cab5a6ad01ce8d243b6a52cb03">CPU_CTRL_XMC1_Init</a>(<a class="code" href="struct_c_p_u___c_t_r_l___x_m_c1.html">CPU_CTRL_XMC1_t</a> *<span class="keyword">const</span> handler)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  (void)handler;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group___c_p_u___c_t_r_l___x_m_c1.html#ggabd892082deee68362475d43137dd6ffaa154b2348f3eda5cc70a763e9470bca64">CPU_CTRL_XMC1_STATUS_SUCCESS</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#if (HARDFAULT_ENABLED == 1)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#if defined(__GNUC__)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wunused-but-set-variable&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_r0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_r1;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_r2;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_r3;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_r12;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_lr;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_pc;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">volatile</span> uint32_t stacked_psr;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keywordtype">void</span> __HardFault_Handler(uint32_t args[])</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  stacked_r0 = ((uint32_t)args[0]);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  stacked_r1 = ((uint32_t)args[1]);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  stacked_r2 = ((uint32_t)args[2]);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  stacked_r3 = ((uint32_t)args[3]);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  stacked_r12 = ((uint32_t)args[4]);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  stacked_lr = ((uint32_t)args[5]);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  stacked_pc = ((uint32_t)args[6]);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  stacked_psr = ((uint32_t)args[7]);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  __asm(<span class="stringliteral">&quot;BKPT 0\n&quot;</span>) ; <span class="comment">// Break into the debugger</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/*KEIL*/</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#if defined(__CC_ARM)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;__asm <span class="keywordtype">void</span> HardFault_Handler(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  EXTERN __HardFault_Handler [<a class="code" href="portasm__mpu_8h.html#acab39580f1d9ee1ad1e81328cc9ee79d">CODE</a>]</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    movs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>,#4      <span class="comment">/* load bit mask into R0 */</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    mov <a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>, lr      <span class="comment">/* load link register into R1 */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    tst <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, <a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>      <span class="comment">/* compare with bitmask */</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    beq _MSP        <span class="comment">/* if bitmask is set: stack pointer is in PSP. Otherwise in MSP */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    mrs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, <a class="code" href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a>     <span class="comment">/* otherwise: stack pointer is in PSP */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    b __HardFault_Handler        <span class="comment">/* go to part which loads the PC */</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;_MSP                <span class="comment">/* stack pointer is in MSP register */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    mrs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, <a class="code" href="portasm__mpu_8h.html#a8ceac5eac5866e7d2daab2c458fb8c1c">msp</a>     <span class="comment">/* load stack pointer into R0 */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    b __HardFault_Handler        <span class="comment">/* go to part which loads the PC */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">/*IAR*/</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#if defined(__ICCARM__)</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keywordtype">void</span> HardFault_Handler(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">asm</span>(</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="stringliteral">&quot;movs r0,#4 \n&quot;</span>       <span class="comment">/* load bit mask into R0 */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="stringliteral">&quot;mov r1, lr \n&quot;</span>       <span class="comment">/* load link register into R1 */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="stringliteral">&quot;tst r0, r1 \n&quot;</span>       <span class="comment">/* compare with bitmask */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="stringliteral">&quot;beq _MSP \n&quot;</span>        <span class="comment">/* if bitmask is set: stack pointer is in PSP. Otherwise in MSP */</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="stringliteral">&quot;mrs r0, psp \n&quot;</span>      <span class="comment">/* otherwise: stack pointer is in PSP */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="stringliteral">&quot;b __HardFault_Handler \n&quot;</span>         <span class="comment">/* go to part which loads the PC */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="stringliteral">&quot;_MSP: \n&quot;</span>            <span class="comment">/* stack pointer is in MSP register */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="stringliteral">&quot;mrs r0, msp \n&quot;</span>      <span class="comment">/* load stack pointer into R0 */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="stringliteral">&quot;b __HardFault_Handler \n&quot;</span>  <span class="comment">/* decode more information. R0 contains pointer to stack frame */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">/*TASKING*/</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#if defined(__TASKING__)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keywordtype">void</span> HardFault_Handler(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  __asm <span class="keyword">volatile</span> (</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">&quot; movs r0,#4      \n&quot;</span>  <span class="comment">/* load bit mask into R0 */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">&quot; mov r1, lr      \n&quot;</span>  <span class="comment">/* load link register into R1 */</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral">&quot; tst r0, r1      \n&quot;</span>  <span class="comment">/* compare with bitmask */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="stringliteral">&quot; beq _MSP        \n&quot;</span>  <span class="comment">/* if bitmask is set: stack pointer is in PSP. Otherwise in MSP */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="stringliteral">&quot; mrs r0, psp     \n&quot;</span>  <span class="comment">/* otherwise: stack pointer is in PSP */</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="stringliteral">&quot; b __HardFault_Handler        \n&quot;</span>  <span class="comment">/* go to part which loads the PC */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="stringliteral">&quot;_MSP:              \n&quot;</span>  <span class="comment">/* stack pointer is in MSP register */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="stringliteral">&quot; mrs r0, msp     \n&quot;</span>  <span class="comment">/* load stack pointer into R0 */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="stringliteral">&quot; b __HardFault_Handler   \n&quot;</span>  <span class="comment">/* decode more information. R0 contains pointer to stack frame */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">/*GCC*/</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">#if defined(__GNUC__)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a9eb4718e922bf8a139eda0a829a28db2">__attribute__</a>((naked))</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keywordtype">void</span> HardFault_Handler(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  __asm <span class="keyword">volatile</span> (</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">&quot; movs r0,#4      \n&quot;</span>  <span class="comment">/* load bit mask into R0 */</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">&quot; mov r1, lr      \n&quot;</span>  <span class="comment">/* load link register into R1 */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">&quot; tst r0, r1      \n&quot;</span>  <span class="comment">/* compare with bitmask */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">&quot; beq _MSP        \n&quot;</span>  <span class="comment">/* if bitmask is set: stack pointer is in PSP. Otherwise in MSP */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">&quot; mrs r0, psp     \n&quot;</span>  <span class="comment">/* otherwise: stack pointer is in PSP */</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">&quot; b __HardFault_Handler        \n&quot;</span>  <span class="comment">/* go to part which loads the PC */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">&quot;_MSP:              \n&quot;</span>  <span class="comment">/* stack pointer is in MSP register */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="stringliteral">&quot; mrs r0, msp     \n&quot;</span>  <span class="comment">/* load stack pointer into R0 */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="stringliteral">&quot; b __HardFault_Handler   \n&quot;</span>  <span class="comment">/* decode more information. R0 contains pointer to stack frame */</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aportasm__mpu_8h_html_a8ceac5eac5866e7d2daab2c458fb8c1c"><div class="ttname"><a href="portasm__mpu_8h.html#a8ceac5eac5866e7d2daab2c458fb8c1c">msp</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add ldr r3 tst it eq vldmiaeq r0 isb bx r14 ite eq mrseq msp mrsne psp b vPortSVCHandler_C vPortStartFirstTask ldr ldr msr msp</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00123">portasm_mpu.h:123</a></div></div>
<div class="ttc" id="acpu__ctrl__xmc1__conf_8h_html_a4e6943c4bf916aded89fb7806a63a97d"><div class="ttname"><a href="cpu__ctrl__xmc1__conf_8h.html#a4e6943c4bf916aded89fb7806a63a97d">CPU_CTRL_XMC1_PATCH_VERSION</a></div><div class="ttdeci">#define CPU_CTRL_XMC1_PATCH_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="cpu__ctrl__xmc1__conf_8h_source.html#l00063">cpu_ctrl_xmc1_conf.h:62</a></div></div>
<div class="ttc" id="agroup___c_p_u___c_t_r_l___x_m_c1_html_ga52c7c5cab5a6ad01ce8d243b6a52cb03"><div class="ttname"><a href="group___c_p_u___c_t_r_l___x_m_c1.html#ga52c7c5cab5a6ad01ce8d243b6a52cb03">CPU_CTRL_XMC1_Init</a></div><div class="ttdeci">CPU_CTRL_XMC1_STATUS_t CPU_CTRL_XMC1_Init(CPU_CTRL_XMC1_t *const handler)</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_c_p_u___c_t_r_l___x_m_c1_2cpu__ctrl__xmc1_8c_source.html#l00089">cpu_ctrl_xmc1.c:89</a></div></div>
<div class="ttc" id="astruct_c_p_u___c_t_r_l___x_m_c1_html"><div class="ttname"><a href="struct_c_p_u___c_t_r_l___x_m_c1.html">CPU_CTRL_XMC1</a></div><div class="ttdoc">Configuration structure for CPU_CTRL_XMC1 APP.</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_c_p_u___c_t_r_l___x_m_c1_2cpu__ctrl__xmc1_8h_source.html#l00097">cpu_ctrl_xmc1.h:98</a></div></div>
<div class="ttc" id="acpu__ctrl__xmc1__conf_8h_html_a21a42cbe994ad9aba29ce533f7f687aa"><div class="ttname"><a href="cpu__ctrl__xmc1__conf_8h.html#a21a42cbe994ad9aba29ce533f7f687aa">CPU_CTRL_XMC1_MINOR_VERSION</a></div><div class="ttdeci">#define CPU_CTRL_XMC1_MINOR_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="cpu__ctrl__xmc1__conf_8h_source.html#l00062">cpu_ctrl_xmc1_conf.h:61</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_a9eb4718e922bf8a139eda0a829a28db2"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a9eb4718e922bf8a139eda0a829a28db2">__attribute__</a></div><div class="ttdeci">__attribute__((weak)) void vPortSetupTimerInterrupt(void)</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00528">port_mpu.h:528</a></div></div>
<div class="ttc" id="astruct_d_a_v_e___a_p_p___v_e_r_s_i_o_n_html"><div class="ttname"><a href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html">DAVE_APP_VERSION</a></div><div class="ttdef"><b>Definition:</b> <a href="_d_a_v_e___common_8h_source.html#l00049">DAVE_Common.h:50</a></div></div>
<div class="ttc" id="agroup___c_p_u___c_t_r_l___x_m_c1_html_ggabd892082deee68362475d43137dd6ffaa154b2348f3eda5cc70a763e9470bca64"><div class="ttname"><a href="group___c_p_u___c_t_r_l___x_m_c1.html#ggabd892082deee68362475d43137dd6ffaa154b2348f3eda5cc70a763e9470bca64">CPU_CTRL_XMC1_STATUS_SUCCESS</a></div><div class="ttdeci">@ CPU_CTRL_XMC1_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_c_p_u___c_t_r_l___x_m_c1_2cpu__ctrl__xmc1_8h_source.html#l00085">cpu_ctrl_xmc1.h:85</a></div></div>
<div class="ttc" id="agroup___c_p_u___c_t_r_l___x_m_c1_html_gafcb644f779a2ba2d9e000c0b11d60643"><div class="ttname"><a href="group___c_p_u___c_t_r_l___x_m_c1.html#gafcb644f779a2ba2d9e000c0b11d60643">CPU_CTRL_XMC1_GetAppVersion</a></div><div class="ttdeci">DAVE_APP_VERSION_t CPU_CTRL_XMC1_GetAppVersion(void)</div><div class="ttdoc">Get CPU_CTRL_XMC1 APP version.</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_c_p_u___c_t_r_l___x_m_c1_2cpu__ctrl__xmc1_8c_source.html#l00077">cpu_ctrl_xmc1.c:77</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_a969e33de7c456ce35cb35d342930b117"><div class="ttname"><a href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add ldr r3 tst it eq vldmiaeq r0 isb bx r14 ite eq mrseq msp mrsne psp b vPortSVCHandler_C vPortStartFirstTask ldr ldr msr r0 mov msr r0 cpsie i cpsie f dsb isb svc vPortRestoreContextOfFirstTask ldr ldr msr r0 ldr ldr add ldr r3 msr psp</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00163">portasm_mpu.h:160</a></div></div>
<div class="ttc" id="agroup___c_p_u___c_t_r_l___x_m_c1_html_ga63c23c17809aec17fa88fcafa2db4747"><div class="ttname"><a href="group___c_p_u___c_t_r_l___x_m_c1.html#ga63c23c17809aec17fa88fcafa2db4747">CPU_CTRL_XMC1_STATUS_t</a></div><div class="ttdeci">enum CPU_CTRL_XMC1_STATUS CPU_CTRL_XMC1_STATUS_t</div></div>
<div class="ttc" id="aportasm__mpu_8h_html_acab39580f1d9ee1ad1e81328cc9ee79d"><div class="ttname"><a href="portasm__mpu_8h.html#acab39580f1d9ee1ad1e81328cc9ee79d">CODE</a></div><div class="ttdeci">RSEG CODE</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00030">portasm_mpu.h:47</a></div></div>
<div class="ttc" id="astruct_d_a_v_e___a_p_p___v_e_r_s_i_o_n_html_a404a9d757eb7a51aa9e79d35394e5663"><div class="ttname"><a href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#a404a9d757eb7a51aa9e79d35394e5663">DAVE_APP_VERSION::patch</a></div><div class="ttdeci">uint8_t patch</div><div class="ttdef"><b>Definition:</b> <a href="_d_a_v_e___common_8h_source.html#l00057">DAVE_Common.h:57</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_ad4557f79eb7284c5a3f8bbbbd4b7be20"><div class="ttname"><a href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq r0</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00056">portasm_mpu.h:56</a></div></div>
<div class="ttc" id="acpu__ctrl__xmc1__conf_8h_html_abeee68e4e05ea4ddd40d2c07586be77f"><div class="ttname"><a href="cpu__ctrl__xmc1__conf_8h.html#abeee68e4e05ea4ddd40d2c07586be77f">CPU_CTRL_XMC1_MAJOR_VERSION</a></div><div class="ttdeci">#define CPU_CTRL_XMC1_MAJOR_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="cpu__ctrl__xmc1__conf_8h_source.html#l00061">cpu_ctrl_xmc1_conf.h:60</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_ad41690af61c1019ceb37251ba4fc058b"><div class="ttname"><a href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add r1</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00079">portasm_mpu.h:79</a></div></div>
<div class="ttc" id="astruct_d_a_v_e___a_p_p___v_e_r_s_i_o_n_html_ac0919cab9e3656da0427f23f9a53dc35"><div class="ttname"><a href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#ac0919cab9e3656da0427f23f9a53dc35">DAVE_APP_VERSION::major</a></div><div class="ttdeci">uint8_t major</div><div class="ttdef"><b>Definition:</b> <a href="_d_a_v_e___common_8h_source.html#l00055">DAVE_Common.h:55</a></div></div>
<div class="ttc" id="a_model_2_a_p_p_s_2_c_p_u___c_t_r_l___x_m_c1_2v4__0__8_2_templates_2cpu__ctrl__xmc1_8h_html"><div class="ttname"><a href="_model_2_a_p_p_s_2_c_p_u___c_t_r_l___x_m_c1_2v4__0__8_2_templates_2cpu__ctrl__xmc1_8h.html">cpu_ctrl_xmc1.h</a></div></div>
<div class="ttc" id="astruct_d_a_v_e___a_p_p___v_e_r_s_i_o_n_html_a56569cf0698e7815530195bdae9a1084"><div class="ttname"><a href="struct_d_a_v_e___a_p_p___v_e_r_s_i_o_n.html#a56569cf0698e7815530195bdae9a1084">DAVE_APP_VERSION::minor</a></div><div class="ttdeci">uint8_t minor</div><div class="ttdef"><b>Definition:</b> <a href="_d_a_v_e___common_8h_source.html#l00056">DAVE_Common.h:56</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
