<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PROJECT_NAME: Dave/Model/APPS/FREERTOS/v4_1_2/Templates/portable/Keil/ARM_CM0/port.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PROJECT_NAME
   &#160;<span id="projectnumber">PROJECT_NUMBER</span>
   </div>
   <div id="projectbrief">PROJECT_BRIEF</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9ae8d336e4569e0680d3e2193cd995f2.html">Dave</a></li><li class="navelem"><a class="el" href="dir_490bed8d9998c4a99839e21f8ea581e9.html">Model</a></li><li class="navelem"><a class="el" href="dir_33846ca2b359b82220662b9710bd22e5.html">APPS</a></li><li class="navelem"><a class="el" href="dir_248eba3674ae8bcb079875a3cd0e3dd0.html">FREERTOS</a></li><li class="navelem"><a class="el" href="dir_79d0790edffd36fa09e12a820aaca3fd.html">v4_1_2</a></li><li class="navelem"><a class="el" href="dir_76eb16d7d451661575af6a6ac154b6cc.html">Templates</a></li><li class="navelem"><a class="el" href="dir_e63ee3f6a044beec70b44fe174abeade.html">portable</a></li><li class="navelem"><a class="el" href="dir_1814cd28296f8fc0675722bfcb13d153.html">Keil</a></li><li class="navelem"><a class="el" href="dir_5f03189dbdfc3cc6669b70db98d36ea7.html">ARM_CM0</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">port.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m0_2port_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * FreeRTOS Kernel V10.0.1</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a copy of</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * this software and associated documentation files (the &quot;Software&quot;), to deal in</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * the Software without restriction, including without limitation the rights to</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Software, and to permit persons to whom the Software is furnished to do so,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * subject to the following conditions:</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * The above copyright notice and this permission notice shall be included in all</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * http://www.FreeRTOS.org</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * http://aws.amazon.com/freertos</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * 1 tab == 4 spaces!</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#if defined ( __CC_ARM )</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/*-----------------------------------------------------------</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * Implementation of functions defined in portable.h for the ARM CM0 port.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* Scheduler includes. */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html">FREERTOS/FreeRTOS.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html">FREERTOS/task.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/* Constants required to manipulate the NVIC. */</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_CTRL           ( ( volatile uint32_t * ) 0xe000e010 )</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_LOAD           ( ( volatile uint32_t * ) 0xe000e014 )</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_CURRENT_VALUE  ( ( volatile uint32_t * ) 0xe000e018 )</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define portNVIC_INT_CTRL           ( ( volatile uint32_t *) 0xe000ed04 )</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define portNVIC_SYSPRI2            ( ( volatile uint32_t *) 0xe000ed20 )</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_CLK        0x00000004</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_INT        0x00000002</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_ENABLE     0x00000001</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#define portNVIC_PENDSVSET          0x10000000</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define portMIN_INTERRUPT_PRIORITY  ( 255UL )</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#define portNVIC_PENDSV_PRI         ( portMIN_INTERRUPT_PRIORITY &lt;&lt; 16UL )</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define portNVIC_SYSTICK_PRI        ( portMIN_INTERRUPT_PRIORITY &lt;&lt; 24UL )</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/* Constants required to set up the initial stack. */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define portINITIAL_XPSR            ( 0x01000000 )</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/* Constants used with memory barrier intrinsics. */</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define portSY_FULL_READ_WRITE      ( 15 )</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/* Each task maintains its own interrupt status in the critical nesting</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">variable. */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a> <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> = 0xaaaaaaaa;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * Setup the timer to generate the tick interrupts.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_keil_2_a_r_m___c_m4_f_2port__mpu_8h.html#a2fc7397f06e3ba28351ff775213d0563">prvSetupTimerInterrupt</a>( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * Exception handlers.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a2f28babe350ab894c4d26e47d7a2d8c7">xPortPendSVHandler</a>( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a7bd68dca362b1b8562cb40c80b37a675">xPortSysTickHandler</a>( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a958ef78fa39228c859d679587bb4705b">vPortSVCHandler</a>( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * Start first task is a separate function so it can be tested in isolation.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> prvPortStartFirstTask( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> * Used to catch tasks that attempt to return from their implementing function.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> prvTaskExitError( <span class="keywordtype">void</span> );</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> * See header file for description.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#abb736501b227deb79f234b30eaf090e3">pxPortInitialiseStack</a>( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *pxTopOfStack, <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h.html#a9b32502ff92c255c686dacde53c1cba0">TaskFunction_t</a> pxCode, <span class="keywordtype">void</span> *pvParameters )</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">/* Simulate the stack frame as it would be created by a context switch</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">    interrupt. */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    pxTopOfStack--; <span class="comment">/* Offset added to account for the way the MCU uses the stack on entry/exit of interrupts. */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    *pxTopOfStack = <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a062d03aca8ae932b4552a2aa19853b44">portINITIAL_XPSR</a>;   <span class="comment">/* xPSR */</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    pxTopOfStack--;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    *pxTopOfStack = ( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) pxCode; <span class="comment">/* PC */</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    pxTopOfStack--;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    *pxTopOfStack = ( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) prvTaskExitError;   <span class="comment">/* LR */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    pxTopOfStack -= 5;  <span class="comment">/* R12, R3, R2 and R1. */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    *pxTopOfStack = ( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> ) pvParameters;   <span class="comment">/* R0 */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    pxTopOfStack -= 8; <span class="comment">/* R11..R4. */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> pxTopOfStack;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> prvTaskExitError( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">/* A function that implements a task must not exit or attempt to return to</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">    its caller as there is nothing to return to.  If a task wants to exit it</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">    should instead call vTaskDelete( NULL ).</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">    Artificially force an assert() to be triggered if configASSERT() is</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">    defined, then stop here so application writers can catch the error. */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="_free_r_t_o_s_config_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a>( <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> == ~0UL );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a6e3d10ee1a0734a647ca192523c2cfc1">portDISABLE_INTERRUPTS</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">for</span>( ;; );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a958ef78fa39228c859d679587bb4705b">vPortSVCHandler</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">/* This function is no longer used, but retained for backward</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">    compatibility. */</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;__asm <span class="keywordtype">void</span> prvPortStartFirstTask( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">extern</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c.html#acdecf2afe97343aba42b111bc6df9eea">pxCurrentTCB</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    PRESERVE8</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">/* The MSP stack is not reset as, unlike on M3/4 parts, there is no vector</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">    table offset register that can be used to locate the initial stack value.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">    Not all M0 parts have the application vector table at address 0. */</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>, =<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c.html#acdecf2afe97343aba42b111bc6df9eea">pxCurrentTCB</a>   <span class="comment">/* Obtain location of pxCurrentTCB. */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>, [<a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>]</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, [<a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>]            <span class="comment">/* The first item in pxCurrentTCB is the task top of stack. */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    adds <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, #32            <span class="comment">/* Discard everything up to r0. */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    msr <a class="code" href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a>, <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>             <span class="comment">/* This is now the new top of stack to use in the task. */</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    movs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, #2             <span class="comment">/* Switch to the psp stack. */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    msr CONTROL, <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    isb</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    pop {<a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>-r5}             <span class="comment">/* Pop the registers that are saved automatically. */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    mov lr, r5              <span class="comment">/* lr is now in r5. */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    pop {<a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>}                <span class="comment">/* The return address is now in r3. */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    pop {<a class="code" href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a>}                <span class="comment">/* Pop and discard the XPSR. */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    cpsie i                 <span class="comment">/* The first task has its context and interrupts can be enabled. */</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    bx <a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>                   <span class="comment">/* Finally, jump to the user defined task code. */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    ALIGN</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"> * See header file for description.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#a4f3b1bb7590996f2fa1e0456dda961ff">xPortStartScheduler</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">/* Make PendSV, CallSV and SysTick the same priroity as the kernel. */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    *(portNVIC_SYSPRI2) |= <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a71a0b2492ed73217b5864c1e3ba8c9be">portNVIC_PENDSV_PRI</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    *(portNVIC_SYSPRI2) |= <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#ae4ddaa528bc05260d1a5a607c8a00d9f">portNVIC_SYSTICK_PRI</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">/* Start the timer that generates the tick ISR.  Interrupts are disabled</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">    here already. */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="_keil_2_a_r_m___c_m4_f_2port__mpu_8h.html#a2fc7397f06e3ba28351ff775213d0563">prvSetupTimerInterrupt</a>();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">/* Initialise the critical nesting count ready for the first task. */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">/* Start the first task. */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    prvPortStartFirstTask();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">/* Should not get here! */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#aa356b7baaa9089490321aa919542dd6c">vPortEndScheduler</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">/* Not implemented in ports where there is nothing to return to.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    Artificially force an assert. */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="_free_r_t_o_s_config_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a>( <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> == 1000UL );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#add01c927fb689f7ec170e42d47d27927">vPortYield</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">/* Set a PendSV to request a context switch. */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    *( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a947759849fc561d70f3bad8a15f5737c">portNVIC_INT_CTRL</a> ) = <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a1428ef16ad26ab8c4d4172aedb8c019b">portNVIC_PENDSVSET</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">/* Barriers are normally not required but do ensure the code is completely</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    within the specified behaviour for the architecture. */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    __dsb( <a class="code" href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h.html#a6e3fcd078a96185dea9b8ed5dd10db44">portSY_FULL_READ_WRITE</a> );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    __isb( <a class="code" href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h.html#a6e3fcd078a96185dea9b8ed5dd10db44">portSY_FULL_READ_WRITE</a> );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a2ed3554a3de09a3bd09d396ee081ab69">vPortEnterCritical</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a6e3d10ee1a0734a647ca192523c2cfc1">portDISABLE_INTERRUPTS</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a>++;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    __dsb( <a class="code" href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h.html#a6e3fcd078a96185dea9b8ed5dd10db44">portSY_FULL_READ_WRITE</a> );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    __isb( <a class="code" href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h.html#a6e3fcd078a96185dea9b8ed5dd10db44">portSY_FULL_READ_WRITE</a> );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#aed20ada05b957181a0de042802a82a5b">vPortExitCritical</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="_free_r_t_o_s_config_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a>( <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a>--;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a> == 0 )</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#abc47e85a6befbb47961ad5ee7aa57173">portENABLE_INTERRUPTS</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;__asm uint32_t <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a6f983b644557761dcc2e2393ad055157">ulSetInterruptMaskFromISR</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    mrs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, PRIMASK</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    cpsid i</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    bx lr</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;__asm <span class="keywordtype">void</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#aa7e9c80f5d241e031bc7844d77a85d6c">vClearInterruptMaskFromISR</a>( uint32_t ulMask )</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    msr PRIMASK, <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    bx lr</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;__asm <span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a2f28babe350ab894c4d26e47d7a2d8c7">xPortPendSVHandler</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">extern</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html#a26df422f8d635d5191a3e106fbeeed68">vTaskSwitchContext</a></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">extern</span> <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c.html#acdecf2afe97343aba42b111bc6df9eea">pxCurrentTCB</a></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    PRESERVE8</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    mrs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, <a class="code" href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>, =<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c.html#acdecf2afe97343aba42b111bc6df9eea">pxCurrentTCB</a>   <span class="comment">/* Get the location of the current TCB. */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a>, [<a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>]</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    subs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, #32            <span class="comment">/* Make space for the remaining low registers. */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    str <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, [<a class="code" href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a>]            <span class="comment">/* Save the new top of stack. */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    stmia <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>!, {r4-r7}      <span class="comment">/* Store the low registers that are not saved automatically. */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    mov r4, r8              <span class="comment">/* Store the high registers. */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    mov r5, r9</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    mov r6, r10</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    mov r7, r11</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    stmia <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>!, {r4-r7}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    push {<a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>, <a class="code" href="portasm__mpu_8h.html#aab48038750bdfe34947e4b1e8b28b21c">r14</a>}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    cpsid i</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    bl <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html#a26df422f8d635d5191a3e106fbeeed68">vTaskSwitchContext</a></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    cpsie i</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    pop {<a class="code" href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a>, <a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a>}            <span class="comment">/* lr goes in r3. r2 now holds tcb pointer. */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>, [<a class="code" href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a>]</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    ldr <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, [<a class="code" href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a>]            <span class="comment">/* The first item in pxCurrentTCB is the task top of stack. */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    adds <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, #16            <span class="comment">/* Move to the high registers. */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    ldmia <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>!, {r4-r7}      <span class="comment">/* Pop the high registers. */</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    mov r8, r4</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    mov r9, r5</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    mov r10, r6</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    mov r11, r7</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    msr <a class="code" href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a>, <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>             <span class="comment">/* Remember the new top of stack for the task. */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    subs <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>, #32            <span class="comment">/* Go back for the low registers that are not automatically restored. */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    ldmia <a class="code" href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a>!, {r4-r7}      <span class="comment">/* Pop low registers.  */</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    bx <a class="code" href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    ALIGN</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_free_r_t_o_s_config_8h.html#a7bd68dca362b1b8562cb40c80b37a675">xPortSysTickHandler</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;uint32_t ulPreviousMask;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    ulPreviousMask = <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html#a31b4260dbc1823ba80b578f86eb15a98">portSET_INTERRUPT_MASK_FROM_ISR</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="comment">/* Increment the RTOS tick. */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html#a978e25460ac35706f9ad30b46d9403d8">xTaskIncrementTick</a>() != <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a> )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="comment">/* Pend a context switch. */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            *(<a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a947759849fc561d70f3bad8a15f5737c">portNVIC_INT_CTRL</a>) = <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a1428ef16ad26ab8c4d4172aedb8c019b">portNVIC_PENDSVSET</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html#a2661e2c5a4e4afe5bef2ebe9872e28b3">portCLEAR_INTERRUPT_MASK_FROM_ISR</a>( ulPreviousMask );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> * Setup the systick timer to generate the tick interrupts at the required</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> * frequency.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_keil_2_a_r_m___c_m4_f_2port__mpu_8h.html#a2fc7397f06e3ba28351ff775213d0563">prvSetupTimerInterrupt</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">/* Stop and reset the SysTick. */</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    *(portNVIC_SYSTICK_CTRL) = 0UL;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    *(portNVIC_SYSTICK_CURRENT_VALUE) = 0UL;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">/* Configure SysTick to interrupt at the requested rate. */</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    *(portNVIC_SYSTICK_LOAD) = ( <a class="code" href="_free_r_t_o_s_config_8h.html#aa68082df879e6fc96bcb9b26513639e7">configCPU_CLOCK_HZ</a> / <a class="code" href="_free_r_t_o_s_config_8h.html#a2f0258dd1e3b877e5bc013be54c2db6a">configTICK_RATE_HZ</a> ) - 1UL;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    *(portNVIC_SYSTICK_CTRL) = <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a590d0fe4b2df70ef49aa19708c89e6c2">portNVIC_SYSTICK_CLK</a> | <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af8c3f4bd42d82e070baf097363a30e3f">portNVIC_SYSTICK_INT</a> | <a class="code" href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af78a1fa447c6312c9ea7fb8e191afc22">portNVIC_SYSTICK_ENABLE</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/*-----------------------------------------------------------*/</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h_html_aa56260e937e7e203026707e5ba944273"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a></div><div class="ttdeci">#define pdFALSE</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h_source.html#l00045">projdefs.h:44</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_af1ef0b7e839d2e30cc6ef9cdc93b8801"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af1ef0b7e839d2e30cc6ef9cdc93b8801">uxCriticalNesting</a></div><div class="ttdeci">static UBaseType_t uxCriticalNesting</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00168">port_mpu.h:168</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_af78a1fa447c6312c9ea7fb8e191afc22"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af78a1fa447c6312c9ea7fb8e191afc22">portNVIC_SYSTICK_ENABLE</a></div><div class="ttdeci">#define portNVIC_SYSTICK_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00083">port_mpu.h:82</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h_html_a2661e2c5a4e4afe5bef2ebe9872e28b3"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html#a2661e2c5a4e4afe5bef2ebe9872e28b3">portCLEAR_INTERRUPT_MASK_FROM_ISR</a></div><div class="ttdeci">#define portCLEAR_INTERRUPT_MASK_FROM_ISR(uxSavedStatusValue)</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h_source.html#l00268">FreeRTOS.h:267</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_a71a0b2492ed73217b5864c1e3ba8c9be"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a71a0b2492ed73217b5864c1e3ba8c9be">portNVIC_PENDSV_PRI</a></div><div class="ttdeci">#define portNVIC_PENDSV_PRI</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00084">port_mpu.h:83</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_aed20ada05b957181a0de042802a82a5b"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#aed20ada05b957181a0de042802a82a5b">vPortExitCritical</a></div><div class="ttdeci">void vPortExitCritical(void)</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00440">port_mpu.h:440</a></div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_a2f0258dd1e3b877e5bc013be54c2db6a"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#a2f0258dd1e3b877e5bc013be54c2db6a">configTICK_RATE_HZ</a></div><div class="ttdeci">#define configTICK_RATE_HZ</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00059">FreeRTOSConfig.h:58</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a646f89d4298e4f5afd522202b11cb2e6"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a></div><div class="ttdeci">unsigned long UBaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_source.html#l00057">portmacro.h:57</a></div></div>
<div class="ttc" id="a_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h_html_a6e3fcd078a96185dea9b8ed5dd10db44"><div class="ttname"><a href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h.html#a6e3fcd078a96185dea9b8ed5dd10db44">portSY_FULL_READ_WRITE</a></div><div class="ttdeci">#define portSY_FULL_READ_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_model_2_a_p_p_s_2_f_r_e_e_r_t_o_s_2v4__1__2_2_templates_2portable_2_keil_2_a_r_m___c_m4_f_2portmacro_8h_source.html#l00079">portmacro.h:78</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h_html"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html">FreeRTOS.h</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_8h_html_abb736501b227deb79f234b30eaf090e3"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#abb736501b227deb79f234b30eaf090e3">pxPortInitialiseStack</a></div><div class="ttdeci">StackType_t * pxPortInitialiseStack(StackType_t *pxTopOfStack, TaskFunction_t pxCode, void *pvParameters) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_a2f28babe350ab894c4d26e47d7a2d8c7"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#a2f28babe350ab894c4d26e47d7a2d8c7">xPortPendSVHandler</a></div><div class="ttdeci">#define xPortPendSVHandler</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00144">FreeRTOSConfig.h:143</a></div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_a7bd68dca362b1b8562cb40c80b37a675"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#a7bd68dca362b1b8562cb40c80b37a675">xPortSysTickHandler</a></div><div class="ttdeci">#define xPortSysTickHandler</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00147">FreeRTOSConfig.h:146</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a6e3d10ee1a0734a647ca192523c2cfc1"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a6e3d10ee1a0734a647ca192523c2cfc1">portDISABLE_INTERRUPTS</a></div><div class="ttdeci">#define portDISABLE_INTERRUPTS()</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_source.html#l00098">portmacro.h:97</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_8h_html_aa356b7baaa9089490321aa919542dd6c"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#aa356b7baaa9089490321aa919542dd6c">vPortEndScheduler</a></div><div class="ttdeci">void vPortEndScheduler(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00421">port_mpu.h:421</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2tasks_8c_html_acdecf2afe97343aba42b111bc6df9eea"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c.html#acdecf2afe97343aba42b111bc6df9eea">pxCurrentTCB</a></div><div class="ttdeci">PRIVILEGED_DATA TCB_t *volatile pxCurrentTCB</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c_source.html#l00347">tasks.c:347</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_af8c3f4bd42d82e070baf097363a30e3f"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#af8c3f4bd42d82e070baf097363a30e3f">portNVIC_SYSTICK_INT</a></div><div class="ttdeci">#define portNVIC_SYSTICK_INT</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00082">port_mpu.h:81</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2task_8h_html"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html">task.h</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_ae4ddaa528bc05260d1a5a607c8a00d9f"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#ae4ddaa528bc05260d1a5a607c8a00d9f">portNVIC_SYSTICK_PRI</a></div><div class="ttdeci">#define portNVIC_SYSTICK_PRI</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00085">port_mpu.h:84</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h_html_a947759849fc561d70f3bad8a15f5737c"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a947759849fc561d70f3bad8a15f5737c">portNVIC_INT_CTRL</a></div><div class="ttdeci">#define portNVIC_INT_CTRL</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h_source.html#l00082">portmacro.h:81</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_a0152a99572909a24318f8abe1473a18b"><div class="ttname"><a href="portasm__mpu_8h.html#a0152a99572909a24318f8abe1473a18b">r3</a></div><div class="ttdeci">RSEG psp isb ldr r3</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00050">portasm_mpu.h:50</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_a61676af66ca4dea21a560ba50c541a56"><div class="ttname"><a href="portasm__mpu_8h.html#a61676af66ca4dea21a560ba50c541a56">r2</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add ldr r2</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00081">portasm_mpu.h:81</a></div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_a228c70cd48927d6ab730ed1a6dfbe35f"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a></div><div class="ttdeci">#define configASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00110">FreeRTOSConfig.h:109</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a46fb21e00ae0729d7515c0fbf2269796"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a></div><div class="ttdeci">long BaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_source.html#l00056">portmacro.h:56</a></div></div>
<div class="ttc" id="a_keil_2_a_r_m___c_m4_f_2port__mpu_8h_html_a2fc7397f06e3ba28351ff775213d0563"><div class="ttname"><a href="_keil_2_a_r_m___c_m4_f_2port__mpu_8h.html#a2fc7397f06e3ba28351ff775213d0563">prvSetupTimerInterrupt</a></div><div class="ttdeci">static void prvSetupTimerInterrupt(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="_keil_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00529">port_mpu.h:529</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h_html_a1428ef16ad26ab8c4d4172aedb8c019b"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h.html#a1428ef16ad26ab8c4d4172aedb8c019b">portNVIC_PENDSVSET</a></div><div class="ttdeci">#define portNVIC_PENDSVSET</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_i_a_r_2portmacro_8h_source.html#l00083">portmacro.h:82</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_a062d03aca8ae932b4552a2aa19853b44"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a062d03aca8ae932b4552a2aa19853b44">portINITIAL_XPSR</a></div><div class="ttdeci">#define portINITIAL_XPSR</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00093">port_mpu.h:92</a></div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_aa68082df879e6fc96bcb9b26513639e7"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#aa68082df879e6fc96bcb9b26513639e7">configCPU_CLOCK_HZ</a></div><div class="ttdeci">#define configCPU_CLOCK_HZ</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00058">FreeRTOSConfig.h:57</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2task_8h_html_a978e25460ac35706f9ad30b46d9403d8"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html#a978e25460ac35706f9ad30b46d9403d8">xTaskIncrementTick</a></div><div class="ttdeci">BaseType_t xTaskIncrementTick(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c_source.html#l02588">tasks.c:2588</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2task_8h_html_a26df422f8d635d5191a3e106fbeeed68"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2task_8h.html#a26df422f8d635d5191a3e106fbeeed68">vTaskSwitchContext</a></div><div class="ttdeci">void vTaskSwitchContext(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2tasks_8c_source.html#l02850">tasks.c:2850</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_8h_html_a4f3b1bb7590996f2fa1e0456dda961ff"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_8h.html#a4f3b1bb7590996f2fa1e0456dda961ff">xPortStartScheduler</a></div><div class="ttdeci">BaseType_t xPortStartScheduler(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00307">port_mpu.h:307</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h_html_a9b32502ff92c255c686dacde53c1cba0"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h.html#a9b32502ff92c255c686dacde53c1cba0">TaskFunction_t</a></div><div class="ttdeci">void(* TaskFunction_t)(void *)</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2projdefs_8h_source.html#l00035">projdefs.h:35</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_a969e33de7c456ce35cb35d342930b117"><div class="ttname"><a href="portasm__mpu_8h.html#a969e33de7c456ce35cb35d342930b117">psp</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add ldr r3 tst it eq vldmiaeq r0 isb bx r14 ite eq mrseq msp mrsne psp b vPortSVCHandler_C vPortStartFirstTask ldr ldr msr r0 mov msr r0 cpsie i cpsie f dsb isb svc vPortRestoreContextOfFirstTask ldr ldr msr r0 ldr ldr add ldr r3 msr psp</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00163">portasm_mpu.h:160</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h_html_a31b4260dbc1823ba80b578f86eb15a98"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h.html#a31b4260dbc1823ba80b578f86eb15a98">portSET_INTERRUPT_MASK_FROM_ISR</a></div><div class="ttdeci">#define portSET_INTERRUPT_MASK_FROM_ISR()</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2_free_r_t_o_s_8h_source.html#l00264">FreeRTOS.h:263</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a6f983b644557761dcc2e2393ad055157"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a6f983b644557761dcc2e2393ad055157">ulSetInterruptMaskFromISR</a></div><div class="ttdeci">uint32_t ulSetInterruptMaskFromISR(void) __attribute__((naked))</div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a84e9a8ba132feed0b2401c1f4e2ac63c"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a></div><div class="ttdeci">portSTACK_TYPE StackType_t</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_source.html#l00055">portmacro.h:55</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_aa7e9c80f5d241e031bc7844d77a85d6c"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#aa7e9c80f5d241e031bc7844d77a85d6c">vClearInterruptMaskFromISR</a></div><div class="ttdeci">void vClearInterruptMaskFromISR(uint32_t ulMask) __attribute__((naked))</div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_add01c927fb689f7ec170e42d47d27927"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#add01c927fb689f7ec170e42d47d27927">vPortYield</a></div><div class="ttdeci">void vPortYield(void)</div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_a2ed3554a3de09a3bd09d396ee081ab69"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#a2ed3554a3de09a3bd09d396ee081ab69">vPortEnterCritical</a></div><div class="ttdeci">void vPortEnterCritical(void)</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00429">port_mpu.h:429</a></div></div>
<div class="ttc" id="a_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_html_abc47e85a6befbb47961ad5ee7aa57173"><div class="ttname"><a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h.html#abc47e85a6befbb47961ad5ee7aa57173">portENABLE_INTERRUPTS</a></div><div class="ttdeci">#define portENABLE_INTERRUPTS()</div><div class="ttdef"><b>Definition:</b> <a href="_generated_2_f_r_e_e_r_t_o_s_2portable_2_g_c_c_2portmacro_8h_source.html#l00099">portmacro.h:98</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_ad4557f79eb7284c5a3f8bbbbd4b7be20"><div class="ttname"><a href="portasm__mpu_8h.html#ad4557f79eb7284c5a3f8bbbbd4b7be20">r0</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq r0</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00056">portasm_mpu.h:56</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_aab48038750bdfe34947e4b1e8b28b21c"><div class="ttname"><a href="portasm__mpu_8h.html#aab48038750bdfe34947e4b1e8b28b21c">r14</a></div><div class="ttdeci">RSEG psp isb ldr tst r14</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00054">portasm_mpu.h:50</a></div></div>
<div class="ttc" id="aportasm__mpu_8h_html_ad41690af61c1019ceb37251ba4fc058b"><div class="ttname"><a href="portasm__mpu_8h.html#ad41690af61c1019ceb37251ba4fc058b">r1</a></div><div class="ttdeci">RSEG psp isb ldr tst it eq vstmdbeq control stmdb stmdb msr r0 dsb isb bl vTaskSwitchContext mov msr r0 ldmia ldr add r1</div><div class="ttdef"><b>Definition:</b> <a href="portasm__mpu_8h_source.html#l00079">portasm_mpu.h:79</a></div></div>
<div class="ttc" id="a_free_r_t_o_s_config_8h_html_a958ef78fa39228c859d679587bb4705b"><div class="ttname"><a href="_free_r_t_o_s_config_8h.html#a958ef78fa39228c859d679587bb4705b">vPortSVCHandler</a></div><div class="ttdeci">#define vPortSVCHandler</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_config_8h_source.html#l00146">FreeRTOSConfig.h:145</a></div></div>
<div class="ttc" id="a_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_html_a590d0fe4b2df70ef49aa19708c89e6c2"><div class="ttname"><a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h.html#a590d0fe4b2df70ef49aa19708c89e6c2">portNVIC_SYSTICK_CLK</a></div><div class="ttdeci">#define portNVIC_SYSTICK_CLK</div><div class="ttdef"><b>Definition:</b> <a href="_g_c_c_2_a_r_m___c_m4_f_2port__mpu_8h_source.html#l00051">port_mpu.h:50</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
